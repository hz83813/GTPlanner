# æ‰‹åŠ¨é‡å¯æœåŠ¡æŒ‡å—

## âš ï¸ é‡è¦è¯´æ˜

åå°å¯åŠ¨å¯èƒ½æœªæˆåŠŸã€‚è¯·æ‰‹åŠ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

---

## ğŸš€ æ¨èæ“ä½œæ­¥éª¤

### æ–¹æ³•1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

#### Windows å‘½ä»¤æç¤ºç¬¦ (CMD)
1. æ‰“å¼€æ–°çš„ **CMD** çª—å£
2. åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•ï¼š
   ```cmd
   cd D:\git\GTPlanner
   ```
3. è¿è¡Œå¯åŠ¨è„šæœ¬ï¼š
   ```cmd
   start_with_aliyun.bat
   ```

#### PowerShell
1. æ‰“å¼€æ–°çš„ **PowerShell** çª—å£
2. åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•ï¼š
   ```powershell
   cd D:\git\GTPlanner
   ```
3. è¿è¡Œå¯åŠ¨è„šæœ¬ï¼š
   ```powershell
   .\start_with_aliyun.ps1
   ```

### æ–¹æ³•2ï¼šæ‰‹åŠ¨è®¾ç½®å¹¶å¯åŠ¨

1. **æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£**

2. **åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•**
   ```powershell
   cd D:\git\GTPlanner
   ```

3. **è®¾ç½®ç¯å¢ƒå˜é‡**
   ```powershell
   $env:LLM_API_KEY="sk-88ed0cac1b698888b5a5b80375db6666"
   $env:LLM_BASE_URL="https://dashscope.aliyuncs.com/compatible-mode/v1"
   $env:LLM_MODEL="qwen-max"
   ```

4. **å¯åŠ¨æœåŠ¡**
   ```bash
   python fastapi_main.py
   ```

---

## âœ… éªŒè¯å¯åŠ¨æˆåŠŸ

### å¯åŠ¨æ—¥å¿—åº”è¯¥æ˜¾ç¤º
```
âœ… LLM é…ç½®æ£€æŸ¥: {'available': True...
âœ… åº”ç”¨åˆå§‹åŒ–å®Œæˆ
âœ… åº”ç”¨å¯åŠ¨æˆåŠŸ
```

**å…³é”®**ï¼šçœ‹åˆ° `âœ… LLM é…ç½®å¯ç”¨` å°±å¯¹äº†ï¼

### å¦‚æœä¸æˆåŠŸ
å¦‚æœè¿˜æ˜¯çœ‹åˆ°ï¼š
```
âŒ LLM é…ç½®æ£€æŸ¥: {'available': False...
âš ï¸ LLM API Key æœªé…ç½®...
```

è¯·æ£€æŸ¥ï¼š
1. æ˜¯å¦åœ¨**æ­£ç¡®çš„ç»ˆç«¯**ä¸­è®¾ç½®äº†ç¯å¢ƒå˜é‡
2. æ˜¯å¦åœ¨è¯¥**åŒä¸€ç»ˆç«¯**ä¸­å¯åŠ¨äº†æœåŠ¡
3. ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. ç­‰å¾…æœåŠ¡å¯åŠ¨
çœ‹åˆ° "Application startup complete" åç»§ç»­

### 2. è®¿é—®å‰ç«¯
æ‰“å¼€æµè§ˆå™¨ï¼šhttp://localhost:11211/static/test_chat.html

### 3. å‘é€æµ‹è¯•è¯·æ±‚
- è¾“å…¥ï¼š**è®¾è®¡ä¸€ä¸ªç”¨æˆ·ç®¡ç†ç³»ç»Ÿ**
- ç‚¹å‡»ï¼š**å‘é€è¯·æ±‚**
- ç­‰å¾…å“åº”

### 4. é¢„æœŸç»“æœ
- âœ… æ”¶åˆ° `ASSISTANT_MESSAGE_CHUNK` äº‹ä»¶
- âœ… `new_messages_count: > 0` ï¼ˆä¸å†æ˜¯0ï¼ï¼‰
- âœ… çœ‹åˆ°å®é™…çš„ç³»ç»Ÿè®¾è®¡
- âœ… çœ‹åˆ°è¯¦ç»†çš„è§„åˆ’å†…å®¹

---

## ğŸ¯ å…³é”®è¦ç‚¹

### ä¸ºä»€ä¹ˆéœ€è¦ç”¨å¯åŠ¨è„šæœ¬ï¼Ÿ
1. **ç¯å¢ƒå˜é‡éœ€è¦åœ¨åŒä¸€è¿›ç¨‹ä¸­** - æœåŠ¡å¯åŠ¨æ—¶æ‰èƒ½è¯»å–
2. **å¯åŠ¨è„šæœ¬ç¡®ä¿ä¸€è‡´** - æ€»æ˜¯åœ¨è®¾ç½®ç¯å¢ƒå˜é‡åå¯åŠ¨
3. **é¿å…é…ç½®ä¸¢å¤±** - é˜²æ­¢ç¯å¢ƒå˜é‡åœ¨ä¸åŒç»ˆç«¯é—´ä¸¢å¤±

### æˆåŠŸçš„æ ‡å‡†
- å¯åŠ¨æ—¥å¿—æ˜¾ç¤º âœ… LLM é…ç½®å¯ç”¨
- å‰ç«¯å¯ä»¥æ­£å¸¸è®¿é—®
- æµ‹è¯•è¯·æ±‚è¿”å›å®é™…å†…å®¹
- `new_messages_count: > 0`

---

## ğŸš€ ç°åœ¨å°±å¼€å§‹

**æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¹‹ä¸€**ï¼š

**CMD**:
```cmd
start_with_aliyun.bat
```

**PowerShell**:
```powershell
.\start_with_aliyun.ps1
```

**ç„¶åè®¿é—®** http://localhost:11211/static/test_chat.html æµ‹è¯•ï¼

**ä¸€åˆ‡å‡†å¤‡å°±ç»ªï¼** ğŸ‰

